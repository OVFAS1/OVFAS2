{% extends 'ov/base1.html' %}
{% block body %}
<br>
<div class="content-wrapper">
        <div class="container-fluid">
                <!-- Breadcrumbs-->
            <ol class="breadcrumb">
                <li class="breadcrumb-item">
                    <a href="{% url 'ov:warden' %}">Dashboard</a>
                    </li>
                 <li class="breadcrumb-item active">Student Registration</li>
            </ol>
        </div>
    <div class="container-fluid">
<div class="alert alert-primary">
    <h4 class="alert-heading">Student Data Import</h4>
    <p>Aww yeah, you successfully read xthis important alert message. This example text is going to run a bit longer so that you can see how spacing within an alert works with this kind of content.</p>
    <hr>
    <p class="mb-0">Whenever you need to, be sure to use margin utilities to keep things nice and tidy.</p>
  </div>
</div>
<hr>
<div class="container-fluid">
  <div class="jumbotron col-sm-12">
      <h2 >Import</h2>
  <form id="import-form" method="post" enctype="multipart/form-data">
    {% csrf_token %}
        {% if error_message %}
        <strong>Results</strong>
        <br>
        <ul>
        {% for i in error_message %}
        <li><strong>{{ i }}</strong></li>
        {% endfor %}
        </ul>
        {% endif %}
    <div class="form-group">
        <label for="name" class="col-md-3 col-sm-3 col-xs-12 control-label">File: </label>
        <div class="col-md-8">
            <input type="file" name="csv_file" id="csv_file" required="True" class="form-control">
        </div>                    
    </div>
    <div class="form-group">                    
        <div class="col-md-3 col-sm-3 col-xs-12 col-md-offset-3" style="margin-bottom:10px;">
             <button onclick="myFunction()"  class="btn btn-primary"  style="margin-right:5px;"><span class="fa fa-upload"></span>  Upload </button>&nbsp;&nbsp;&nbsp;<a class="btn-light" href="#"><span class="fa fa-download"></span>Sample File</a>
        </div> 
    </div>
    <div id="myDiv" style="display:none">
        
      <h3 class="badge-danger">Please do not refresh the page. The file is been processed </h3>
      <i class="fa fa-circle-o-notch fa-spin" style="font-size:27px"></i>
        
    </div>
  </form>
</div>
</div>
</div>
<script>
    function myFunction(){
     
        var x=document.getElementById("myDiv");
        var a=document.forms["import-form"]["csv_file"].value;
        if(a!="")
        {
        if(x.style.display === "none")
        {
            x.style.display="block"
        }
        else
        {
            x.style.display="none"
        }
        }
    }
    </script>
{% endblock %}
